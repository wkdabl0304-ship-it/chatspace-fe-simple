# 聊天管理

## WebSocket 聊天

GET(ws) /ws/chat/?token=xxx

### 请求参数

> 发送消息示例

```json
{
    "to_account": "test",
    "content":"逆天了",
    "type":"00" // 00: 聊天消息 02: 登录/登出消息 04: 在线好友列表
}
```

> 服务器推送消息示例

```json
{
    "code": 10007,
    "msg": "用户不在线"
}
```

```json
{
    "from_account": "test",
    "content": "逆天了",
    "type": "00", // 00: 聊天消息 02: 登录/登出消息 04: 在线好友列表
    "time": 1764159744
}
```


```json
{
    "type": "02", // 00: 聊天消息 02: 登录/登出消息 04: 在线好友列表
    "content": "Login", 
    "time": 1764159744,
    "addi": "wkd" // 好友账号
}
```

```json
{
    "type": "02", // 00: 聊天消息 02: 登录/登出消息 04: 在线好友列表
    "content": "Logout", 
    "time": 1764159744,
    "addi": "wkd" // 好友账号
}
```

```json
{
    // 这个消息只有在用户登录后，服务器推送一次
    "type": "04", // 00: 聊天消息 02: 登录/登出消息 04: 在线好友列表
    "content": "wkd1,wkd2,wkd3", // 无在线好友时为空字符串""
    "time": 1764159744
}
```